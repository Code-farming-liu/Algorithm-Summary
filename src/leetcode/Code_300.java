package leetcode;

/**
 * @ClassName: Test99
 * Description: æœ€é•¿é€’å¢å­åºåˆ—
 * ç»™å®šä¸€ä¸ªæ— åºçš„æ•´æ•°æ•°ç»„ï¼Œæ‰¾åˆ°å…¶ä¸­æœ€é•¿ä¸Šå‡å­åºåˆ—çš„é•¿åº¦ã€‚
 * <p>
 * ç¤ºä¾‹:
 * <p>
 * è¾“å…¥: [10,9,2,5,3,7,101,18]
 * è¾“å‡º: 4
 * è§£é‡Š: æœ€é•¿çš„ä¸Šå‡å­åºåˆ—æ˜¯Â [2,3,7,101]ï¼Œå®ƒçš„é•¿åº¦æ˜¯ 4ã€‚
 * @Author: Admin
 **/

public class Code_300 {
    /**
     * @param nums
     * @Author: Admin
     * @Description: æš´åŠ›ç ´è§£ï¼ˆä¸åšè¿‡å¤šçš„å™è¿°ï¼‰
     * @return: int
     */
    public static int lengthOfLIS1(int[] nums) {
        if (nums.length == 0) {
            return 0;
        }
        //è®°å½•å‰nä¸ªæ•°çš„æœ€å¤§é•¿åº¦ï¼Œå¯»æ‰¾å‡ºæœ€å¤§é•¿åº¦
        int[] maxLen = new int[nums.length];
        maxLen[0] = 1;//å› ä¸ºåˆå§‹å€¼ è‚¯å®šä¸º1 è‡ªå·±æœ¬èº«
        int result = 1;//ä¿å­˜æœ€åçš„ç»“æœ
        for (int i = 1; i < nums.length; i++) {
            int maxTemp = 0;//ä¿å­˜ä¸´æ—¶çš„æœ€å¤§å€¼
            for (int j = 0; j < i; j++) {
                if (nums[i] > nums[j]) { //
                    maxTemp = Math.max(maxTemp, maxLen[j]);//æ¯”è¾ƒä¸´æ—¶æœ€å¤§å€¼å’Œå½“å‰æœ€å¤§å€¼çš„å¤§å°
                }
            }
            maxLen[i] = maxTemp + 1;//å› ä¸ºè¦åŠ ä¸Šè‡ªèº« æ‰€ä»¥ + 1
            result = Math.max(maxLen[i], result);
        }
        return result;
    }

    //åŠ¨æ€è§„åˆ’ + è´ªå¿ƒ + äºŒåˆ†æŸ¥æ‰¾æ³•
    //æ€è·¯æ˜¯ï¼š
//åˆ›å»ºæ•°ç»„tailsç”¨æ¥ä¿å­˜ä»å·¦åˆ°å³éå†æ•°ç»„æ‰€å¾—çš„æœ€é•¿ä¸Šå‡å­åºåˆ—ï¼›
//æ¯éå†ä¸€ä¸ªå…ƒç´ æ—¶ï¼Œéƒ½ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾æ³•æ‰¾åˆ°è¯¥å…ƒç´ åº”è¯¥åœ¨tailsæ•°ç»„çš„ç´¢å¼•ï¼›
//
//å…³äºå…ƒç´ æ›¿æ¢ï¼š
//åƒåºåˆ—10,9,2,5,3,7,21,18
//å®ƒåœ¨éå†æ—¶ä¼šé‡åˆ°tailsæ•°ç»„ç”±2,5,7 ğŸ‘‰ 2,3,7
//å…ƒç´ 3æ›¿æ¢äº†å…ƒç´ 5çš„ä½ç½®ï¼Œåœ¨æš‚æ—¶éå†åˆ°è¿™é‡Œæ—¶ï¼Œ3å’Œ5éƒ½åœ¨2å’Œ7ä¹‹é—´ï¼Œå®ƒä»¬æ˜¯å¤„äºåŒä¸€æ°´å¹³ä½ç½®çš„ï¼Œæ‰€ä»¥æ›¿æ¢åå¹¶ä¸ä¼šå½±å“ç»“æœï¼›
//è€Œä¼šä¸ºåé¢ä¸‡ä¸€å‡ºç°3å’Œ5ä¸­é—´çš„æ•°ï¼ˆä¾‹å¦‚ï¼š4ï¼Œä»–å°†ä»£æ›¿5ï¼Œä¼šå’Œ3å¤„åŒä¸€æ°´å¹³ä½ç½®ï¼‰è¿™ç§ç‰¹æ®Šæƒ…å†µåšå‡†å¤‡ï¼›
    public static int lengthOfLIS(int[] nums) {
        int[] tails = new int[nums.length];
        int res = 0;
        for (int num : nums) {
            int i = 0, j = res;
            while (i < j) {
                //äºŒåˆ†æŸ¥æ‰¾æ³•
                int m = (i + j) / 2;
                //å‰é¢çš„å€¼æ¯” å½“å‰å€¼å° ç›´æ¥å½“å‰å€¼å¾€åæŸ¥æ‰¾ æ›´æ–°å·¦è¾¹ç•Œ
                if (tails[m] < num) {
                    i = m + 1;
                } else {//æ›´æ–°å³è¾¹ç•Œ
                    j = m;
                }
            }
            //å§‹ç»ˆæ›´æ–°å¯¹åº”çš„å€¼
            tails[i] = num;
            //tails æ•°ç»„å»é™¤0åçš„é•¿åº¦
            //ä¸æ–­æ›´æ–°æ•°ç»„çš„é•¿åº¦
            if (res == j) {
                res++;
            }
        }
        return res;
    }
} 
